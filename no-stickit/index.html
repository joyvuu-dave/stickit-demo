<!doctype html>
<html>
  <head>
    <script src="../vendors/jquery.js"></script>
    <script src="../vendors/lodash.underscore.js"></script>
    <script src="../vendors/backbone.js"></script>
  </head>
  <body>
    <div id="main"></div>


    <script id="form-template" type="text/template">    
        <input id="dom-element" type="text" value= <%= this.model.attributes.modelProp %> >
    </script>
    
    <script>
      // Model Class
      var Foo = Backbone.Model.extend({
          defaults: {
              'modelProp': 'green'
          }
      });



      // View Class   
      var FooView = Backbone.View.extend({
          el: '#main',
          template: _.template($('#form-template').html()),
          initialize: function() {
              this.listenTo(this.model, 'change', this.print);
              this.listenTo(this.model, 'change', this.render);
          },
          render: function () {
              this.$el.html(this.template(this.model.attributes));
              return this;
          },
          print: function () {
              console.log(this.model.toJSON());
          },
          binding: {
              "#dom-element": "modelProp"
          }
      });



      // Model Instance
      var myFoo = new Foo();



      // View Instance
      var myView = new FooView({
          model: myFoo
      });



      // Render View
      myView.render();



      // Change Model Property
      myFoo.set("modelProp", "yellow");
    </script>
  </body>
</html>